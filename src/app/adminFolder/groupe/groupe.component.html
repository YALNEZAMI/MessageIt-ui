<div id="groupeGlobal">
  <form *ngIf="!noFriends()" (ngSubmit)="makeGroupe()" class="form">
    <input
      class="form-control"
      type="text"
      id="groupeName"
      placeholder="Groupe name"
      name="name"
      [(ngModel)]="getConv().name"
      required
    />
    <button
      [disabled]="getSelectedFriends().length < 2 || getConv().name == ''"
      class="btn btn-success center"
      id="makeGroupeBtn"
      type="submit"
    >
      Create
    </button>
  </form>
  <h5 class="center container-fluid" *ngIf="noFriends()">
    <ins>You dont have enough friends to make a groupe !</ins>
  </h5>
  <div id="friendsContainer">
    <div
      id="{{ user._id }}"
      class="userItem row"
      *ngFor="let user of getFriends()"
      (click)="selectUser(user)"
    >
      <div class="imgAndStatusDiv">
        <img
          class="img"
          src="{{ user.photo }}"
          alt="userPhoto"
          onerror='src="/assets/images/user.png"'
        />
      </div>
      <div class="name">{{ user.firstName + " " + user.lastName }}</div>
      <div
        [ngClass]="{
        selectedDiv:getSelectedFriends().includes(user),
        UnselectedDiv:!getSelectedFriends().includes(user),
    }"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="16"
          height="16"
          fill="currentColor"
          class="bi bi-check2-circle"
          viewBox="0 0 16 16"
        >
          <path
            d="M2.5 8a5.5 5.5 0 0 1 8.25-4.764.5.5 0 0 0 .5-.866A6.5 6.5 0 1 0 14.5 8a.5.5 0 0 0-1 0 5.5 5.5 0 1 1-11 0z"
          />
          <path
            d="M15.354 3.354a.5.5 0 0 0-.708-.708L8 9.293 5.354 6.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l7-7z"
          />
        </svg>
      </div>
    </div>
  </div>
</div>
